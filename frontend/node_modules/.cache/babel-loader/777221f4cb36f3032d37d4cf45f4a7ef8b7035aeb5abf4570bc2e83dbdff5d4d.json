{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateGreaseProductForm(_ref){let{productId,onUpdateProduct}=_ref;const[productData,setProductData]=useState(null);useEffect(()=>{const fetchProduct=async()=>{const response=await fetch(`http://localhost:5000/api/grease/${productId}`);const data=await response.json();setProductData(data);};if(productId){fetchProduct();}},[productId]);const handleChange=e=>{const{name,value,type,checked}=e.target;setProductData({...productData,[name]:type==='checkbox'?checked:value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch(`http://localhost:5000/api/grease/${productId}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(productData)});if(response.ok){const data=await response.json();alert(data.message||'Product updated successfully!');onUpdateProduct();// Refresh products after update\n}else{const data=await response.json();alert(data.error||'Failed to update product');}}catch(error){alert('An error occurred while updating the product');}};if(!productData)return null;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:productData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",value:productData.category,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:productData.price,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",value:productData.stock,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",value:productData.image,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Offer:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"offer\",checked:productData.offer,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Product\"})]});}export default UpdateGreaseProductForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","UpdateGreaseProductForm","_ref","productId","onUpdateProduct","productData","setProductData","fetchProduct","response","fetch","data","json","handleChange","e","name","value","type","checked","target","handleSubmit","preventDefault","method","headers","body","JSON","stringify","ok","alert","message","error","onSubmit","children","onChange","required","category","price","stock","image","offer"],"sources":["C:/Users/Acer/Desktop/SE_REVIEW/SE_Group4/frontend/src/pages/UpdateGreaseProductForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction UpdateGreaseProductForm({ productId, onUpdateProduct }) {\r\n    const [productData, setProductData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchProduct = async () => {\r\n            const response = await fetch(`http://localhost:5000/api/grease/${productId}`);\r\n            const data = await response.json();\r\n            setProductData(data);\r\n        };\r\n\r\n        if (productId) {\r\n            fetchProduct();\r\n        }\r\n    }, [productId]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setProductData({\r\n            ...productData,\r\n            [name]: type === 'checkbox' ? checked : value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/api/grease/${productId}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(productData),\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                alert(data.message || 'Product updated successfully!');\r\n                onUpdateProduct(); // Refresh products after update\r\n            } else {\r\n                const data = await response.json();\r\n                alert(data.error || 'Failed to update product');\r\n            }\r\n        } catch (error) {\r\n            alert('An error occurred while updating the product');\r\n        }\r\n    };\r\n\r\n    if (!productData) return null;\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={productData.name}\r\n                onChange={handleChange}\r\n                required\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                name=\"category\"\r\n                value={productData.category}\r\n                onChange={handleChange}\r\n                required\r\n            />\r\n            <input\r\n                type=\"number\"\r\n                name=\"price\"\r\n                value={productData.price}\r\n                onChange={handleChange}\r\n                required\r\n            />\r\n            <input\r\n                type=\"number\"\r\n                name=\"stock\"\r\n                value={productData.stock}\r\n                onChange={handleChange}\r\n                required\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                name=\"image\"\r\n                value={productData.image}\r\n                onChange={handleChange}\r\n                required\r\n            />\r\n            <label>\r\n                Offer:\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"offer\"\r\n                    checked={productData.offer}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            <button type=\"submit\">Update Product</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default UpdateGreaseProductForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}